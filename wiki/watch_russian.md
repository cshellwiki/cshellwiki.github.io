# [Linux] Bash watch использование: следить за изменениями командного вывода

## Обзор
Команда `watch` в Bash позволяет периодически выполнять указанную команду и отображать её вывод в терминале. Это полезно для мониторинга изменений в данных, таких как состояние системных ресурсов или вывод других команд.

## Использование
Основной синтаксис команды `watch` выглядит следующим образом:

```bash
watch [options] [arguments]
```

## Общие опции
- `-n, --interval`: Устанавливает интервал обновления в секундах (по умолчанию 2 секунды).
- `-d, --differences`: Подсвечивает изменения между обновлениями.
- `-t, --no-title`: Отключает заголовок, показывающий время и команду.
- `-x`: Позволяет выполнять команды с аргументами.

## Общие примеры
1. **Мониторинг использования процессора:**
   ```bash
   watch -n 1 mpstat
   ```
   Этот пример обновляет вывод команды `mpstat` каждую секунду, показывая использование процессора.

2. **Следить за изменениями в директории:**
   ```bash
   watch -d ls -l
   ```
   Здесь команда `ls -l` будет выполняться каждые 2 секунды, а изменения будут подсвечены.

3. **Мониторинг состояния сети:**
   ```bash
   watch -n 5 ifconfig
   ```
   Этот пример показывает вывод команды `ifconfig` каждые 5 секунд.

4. **Проверка логов:**
   ```bash
   watch tail -n 10 /var/log/syslog
   ```
   Команда `tail` будет показывать последние 10 строк файла журнала, обновляясь каждые 2 секунды.

## Советы
- Используйте опцию `-d`, чтобы легко заметить изменения в выводе.
- Установите интервал обновления с помощью `-n`, чтобы не перегружать систему частыми запросами.
- Если вывод команды слишком длинный, используйте `less` или `more` для удобства просмотра.
- Применяйте `watch` для мониторинга системных ресурсов, таких как использование памяти или диска, для быстрого реагирования на изменения.