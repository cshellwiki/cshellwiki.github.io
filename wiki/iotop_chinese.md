# [Linux] Bash iotop 使用指南: 监控磁盘I/O使用情况

## 概述
`iotop` 是一个用于监控 Linux 系统中磁盘 I/O 使用情况的命令行工具。它可以实时显示哪些进程正在进行磁盘读写操作，帮助用户识别和解决性能瓶颈。

## 用法
基本语法如下：
```bash
iotop [options] [arguments]
```

## 常用选项
- `-o` 或 `--only`: 仅显示当前有 I/O 活动的进程。
- `-b` 或 `--batch`: 以批处理模式运行，适合将输出重定向到文件。
- `-n NUM` 或 `--iter NUM`: 指定迭代次数，默认是无限次。
- `-d SEC` 或 `--delay SEC`: 设置更新间隔时间，单位为秒。

## 常见示例
1. **实时监控 I/O 活动**：
   ```bash
   iotop
   ```

2. **仅显示有 I/O 活动的进程**：
   ```bash
   iotop -o
   ```

3. **以批处理模式运行并输出到文件**：
   ```bash
   iotop -b -n 5 > iotop_output.txt
   ```

4. **设置更新间隔为 2 秒**：
   ```bash
   iotop -d 2
   ```

## 小贴士
- 在使用 `iotop` 时，确保以 root 用户身份运行，以便获取所有进程的 I/O 信息。
- 结合 `-b` 选项，可以将 `iotop` 的输出保存到文件中，以便后续分析。
- 使用 `-o` 选项可以帮助你快速识别出正在进行 I/O 操作的进程，从而更有效地进行性能调优。