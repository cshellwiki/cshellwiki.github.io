# [ระบบปฏิบัติการ] Bash wait การใช้งาน: รอให้กระบวนการเสร็จสิ้น

## Overview
คำสั่ง `wait` ใน Bash ใช้เพื่อรอให้กระบวนการที่ถูกเรียกใช้เสร็จสิ้น โดยจะทำให้สคริปต์หยุดทำงานจนกว่ากระบวนการที่ระบุจะเสร็จสิ้น นอกจากนี้ยังสามารถใช้เพื่อรับค่าผลลัพธ์จากกระบวนการนั้นได้อีกด้วย

## Usage
การใช้งานพื้นฐานของคำสั่ง wait มีดังนี้:

```bash
wait [options] [arguments]
```

## Common Options
- `-n`: รอให้กระบวนการที่ยังทำงานอยู่เสร็จสิ้น
- `-p`: รอให้กระบวนการที่ระบุเสร็จสิ้นและแสดงผลลัพธ์

## Common Examples
### ตัวอย่างที่ 1: รอให้กระบวนการพื้นฐานเสร็จสิ้น
```bash
sleep 5 &
wait $!
echo "กระบวนการเสร็จสิ้น"
```
ในตัวอย่างนี้ คำสั่ง `sleep 5` จะทำงานในพื้นหลัง และคำสั่ง `wait` จะรอจนกว่ามันจะเสร็จสิ้น

### ตัวอย่างที่ 2: รอหลายกระบวนการ
```bash
sleep 3 &
sleep 5 &
wait
echo "ทุกกระบวนการเสร็จสิ้น"
```
คำสั่งนี้จะรอให้ทั้งสองกระบวนการ `sleep` เสร็จสิ้นก่อนที่จะพิมพ์ข้อความ

### ตัวอย่างที่ 3: รับค่าผลลัพธ์จากกระบวนการ
```bash
sleep 2 &
pid=$!
wait $pid
echo "รหัสผลลัพธ์คือ: $?"
```
ในตัวอย่างนี้ เราจะเก็บรหัสกระบวนการและรอให้มันเสร็จสิ้น จากนั้นจะพิมพ์รหัสผลลัพธ์

## Tips
- ใช้ `wait` เมื่อคุณต้องการให้สคริปต์ของคุณรอการทำงานของกระบวนการในพื้นหลัง
- การใช้ `wait` โดยไม่ระบุ PID จะทำให้รอทุกกระบวนการในพื้นหลังที่ทำงานอยู่
- ตรวจสอบรหัสผลลัพธ์หลังจากใช้ `wait` เพื่อให้แน่ใจว่ากระบวนการทำงานสำเร็จ