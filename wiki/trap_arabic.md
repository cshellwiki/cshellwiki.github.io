# [لينكس] Bash trap الاستخدام: التعامل مع إشارات النظام

## Overview
أمر `trap` في Bash يُستخدم للتعامل مع إشارات النظام، مما يتيح لك تنفيذ أوامر معينة عند تلقي إشارات محددة. هذا الأمر مفيد بشكل خاص لإدارة عمليات الإنهاء أو التوقف بطريقة منظمة.

## Usage
الصيغة الأساسية لأمر `trap` هي كما يلي:

```bash
trap [options] [commands] [signals]
```

## Common Options
- `-l`: يعرض قائمة بجميع الإشارات المتاحة.
- `-p`: يعرض إعدادات `trap` الحالية.
- `SIGNAL`: يمكن أن يكون اسم إشارة أو رقم الإشارة (مثل `SIGINT` أو `2`).

## Common Examples

### 1. التعامل مع إشارة إنهاء
يمكنك استخدام `trap` لتنفيذ أمر عند تلقي إشارة إنهاء:

```bash
trap 'echo "تم إنهاء البرنامج"' SIGINT
```

### 2. تنظيف الملفات المؤقتة
يمكنك استخدام `trap` لتنظيف الملفات المؤقتة عند إنهاء البرنامج:

```bash
trap 'rm -f /tmp/mytempfile; echo "تم حذف الملف المؤقت"' EXIT
```

### 3. التعامل مع إشارة توقف
يمكنك استخدام `trap` للتعامل مع إشارة توقف:

```bash
trap 'echo "تم إيقاف البرنامج مؤقتًا"' SIGTSTP
```

## Tips
- تأكد من وضع أوامر `trap` في بداية سكربت Bash لضمان التقاط الإشارات بشكل صحيح.
- استخدم `trap -p` للتحقق من إعدادات `trap` الحالية قبل إجراء تغييرات.
- كن حذرًا عند استخدام `trap` مع إشارات متعددة، حيث يمكن أن يؤدي ذلك إلى تعقيد تدفق البرنامج.