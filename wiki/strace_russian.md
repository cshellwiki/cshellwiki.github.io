# [Linux] Bash strace использование: Отслеживание системных вызовов

## Обзор
Команда `strace` используется для отслеживания системных вызовов и сигналов, которые выполняет процесс. Это полезный инструмент для диагностики и отладки программ, позволяющий увидеть, какие операции выполняет программа на уровне операционной системы.

## Использование
Основной синтаксис команды выглядит следующим образом:

```bash
strace [options] [arguments]
```

## Общие опции
- `-c` — Подсчитывает количество вызовов и время, затраченное на каждый системный вызов.
- `-e` — Позволяет фильтровать системные вызовы по имени или категории.
- `-o <file>` — Записывает вывод `strace` в указанный файл вместо стандартного вывода.
- `-p <pid>` — Отслеживает уже запущенный процесс с указанным идентификатором процесса (PID).
- `-f` — Отслеживает дочерние процессы, создаваемые отслеживаемым процессом.

## Общие примеры
1. Отслеживание простого процесса:
   ```bash
   strace ls
   ```

2. Запись вывода в файл:
   ```bash
   strace -o output.txt ls
   ```

3. Подсчет системных вызовов:
   ```bash
   strace -c ls
   ```

4. Отслеживание конкретного системного вызова:
   ```bash
   strace -e open ls
   ```

5. Отслеживание уже запущенного процесса:
   ```bash
   strace -p 1234
   ```

## Советы
- Используйте опцию `-c`, чтобы быстро получить сводную информацию о производительности программы.
- Фильтрация системных вызовов с помощью `-e` может помочь сосредоточиться на конкретных аспектах работы программы.
- Запись вывода в файл с помощью `-o` позволяет анализировать результаты позже, что удобно для сложных приложений.
- Будьте осторожны при использовании `strace` на производственных системах, так как это может повлиять на производительность отслеживаемого процесса.