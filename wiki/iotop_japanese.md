# [Linux] Bash iotop の使い方: ディスクI/Oの監視

## Overview
iotopは、LinuxシステムにおいてリアルタイムでディスクI/Oを監視するためのツールです。このコマンドを使用することで、どのプロセスがディスクに対してどれだけの読み書きを行っているかを確認できます。

## Usage
基本的な構文は以下の通りです。

```bash
iotop [options] [arguments]
```

## Common Options
- `-o` : I/Oを行っているプロセスのみを表示します。
- `-b` : バッチモードで実行し、出力を標準出力に送ります。
- `-d <秒数>` : 更新間隔を指定します（デフォルトは1秒）。
- `-n <回数>` : 指定した回数だけ更新を行った後に終了します。

## Common Examples
以下にいくつかの実用的な例を示します。

1. **基本的な使用法**  
   デフォルトの設定でiotopを実行します。
   ```bash
   sudo iotop
   ```

2. **I/Oを行っているプロセスのみ表示**  
   I/Oを行っているプロセスだけを表示します。
   ```bash
   sudo iotop -o
   ```

3. **バッチモードでの実行**  
   5秒ごとに更新し、出力を標準出力に送ります。
   ```bash
   sudo iotop -b -d 5
   ```

4. **特定の回数だけ実行**  
   10回の更新後に終了します。
   ```bash
   sudo iotop -n 10
   ```

## Tips
- iotopを使用する際は、`sudo`を付けることを忘れないでください。これにより、全てのプロセスのI/O情報を表示できます。
- ディスクI/Oのボトルネックを特定するために、他の監視ツール（例：topやhtop）と併用することをお勧めします。
- iotopの出力をファイルにリダイレクトすることで、後から分析することも可能です。例えば、以下のように実行します。
  ```bash
  sudo iotop -b -d 1 -n 10 > iotop_output.txt
  ```