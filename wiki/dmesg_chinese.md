# [Linux] Bash dmesg 用法: 查看内核消息缓冲区

## 概述
`dmesg` 命令用于显示内核环形缓冲区中的消息，这些消息通常与系统启动过程、硬件驱动程序和其他内核事件相关。通过这个命令，用户可以获取系统的诊断信息，帮助排查问题。

## 用法
基本语法如下：
```
dmesg [选项] [参数]
```

## 常用选项
- `-C`：清空内核消息缓冲区。
- `-c`：清空缓冲区并输出当前内容。
- `-n <级别>`：设置消息级别的输出阈值。
- `-T`：将时间戳转换为可读格式。
- `-f <优先级>`：只显示指定优先级的消息。

## 常见示例
1. **查看所有内核消息**
   ```bash
   dmesg
   ```

2. **查看最新的内核消息**
   ```bash
   dmesg | tail
   ```

3. **清空内核消息缓冲区**
   ```bash
   dmesg -C
   ```

4. **查看带时间戳的内核消息**
   ```bash
   dmesg -T
   ```

5. **过滤特定优先级的消息**
   ```bash
   dmesg -f err
   ```

## 小贴士
- 在排查系统启动问题时，使用 `dmesg` 可以帮助你快速定位硬件或驱动程序的错误。
- 结合 `grep` 命令，可以更方便地查找特定的消息，例如：
  ```bash
  dmesg | grep usb
  ```
- 定期检查 `dmesg` 输出可以帮助你监控系统的健康状态，及时发现潜在问题。