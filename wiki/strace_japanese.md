# [Linux] Bash strace の使い方: システムコールを追跡する

## Overview
`strace` コマンドは、プログラムが実行中に行うシステムコールや信号を追跡するためのツールです。これにより、プログラムの動作を理解したり、デバッグを行ったりするのに役立ちます。

## Usage
基本的な構文は以下の通りです。

```bash
strace [options] [arguments]
```

## Common Options
- `-c`: 各システムコールの統計情報を表示します。
- `-e`: 特定のシステムコールのみを追跡します。
- `-p`: 既に実行中のプロセスにアタッチして追跡します。
- `-o <file>`: 出力を指定したファイルに保存します。

## Common Examples
以下に、`strace` コマンドの実用的な例をいくつか示します。

### プログラムの実行を追跡する
```bash
strace ls
```
このコマンドは、`ls` コマンドが実行するシステムコールを表示します。

### 特定のシステムコールを追跡する
```bash
strace -e open,read ls
```
このコマンドは、`ls` コマンドが行う `open` と `read` システムコールのみを追跡します。

### 実行中のプロセスを追跡する
```bash
strace -p 1234
```
プロセスIDが1234の実行中のプロセスを追跡します。

### 出力をファイルに保存する
```bash
strace -o output.txt ls
```
`ls` コマンドのシステムコールの出力を `output.txt` ファイルに保存します。

## Tips
- `strace` の出力は非常に詳細であるため、必要な情報を見つけるために `grep` コマンドを併用すると便利です。
- デバッグ中に `-c` オプションを使用すると、システムコールのパフォーマンスを把握しやすくなります。
- プログラムがどのようにリソースを使用しているかを理解するために、`strace` を使ってシステムコールを分析することをお勧めします。