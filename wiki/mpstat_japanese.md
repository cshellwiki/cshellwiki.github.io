# [Linux] Bash mpstat の使い方: CPU 使用率の監視

## Overview
`mpstat` コマンドは、システムの CPU 使用率を監視するためのツールです。このコマンドを使用することで、各 CPU コアのパフォーマンスをリアルタイムで確認し、システムの負荷を分析することができます。

## Usage
基本的な構文は以下の通りです。

```bash
mpstat [options] [arguments]
```

## Common Options
- `-P ALL` : すべての CPU コアの統計を表示します。
- `-u` : CPU 使用率を表示します。
- `-r` : メモリの使用状況を表示します。
- `-h` : ヘルプ情報を表示します。

## Common Examples
以下に、`mpstat` コマンドのいくつかの実用的な例を示します。

### 1. 全 CPU コアの使用率を表示
```bash
mpstat -P ALL 1
```
このコマンドは、すべての CPU コアの使用率を 1 秒ごとに表示します。

### 2. CPU 使用率を表示
```bash
mpstat -u 1
```
このコマンドは、全体の CPU 使用率を 1 秒ごとに表示します。

### 3. メモリの使用状況を表示
```bash
mpstat -r 1
```
このコマンドは、メモリの使用状況を 1 秒ごとに表示します。

## Tips
- `mpstat` は、システムのパフォーマンスを監視するための強力なツールです。定期的に実行して、CPU の負荷を把握しましょう。
- スクリプト内で使用する場合、出力をファイルにリダイレクトすることで、後で分析することができます。
- `mpstat` の出力を他のコマンドと組み合わせて、より詳細な分析を行うことも可能です。