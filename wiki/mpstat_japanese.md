# [Linux] C Shell (csh) mpstat の使い方: CPU 使用率の監視

## 概要
mpstat コマンドは、システムの CPU 使用率を監視し、各 CPU コアのパフォーマンスを表示するために使用されます。このコマンドは、システムの負荷を分析し、パフォーマンスのボトルネックを特定するのに役立ちます。

## 使用法
基本的な構文は以下の通りです。

```csh
mpstat [options] [arguments]
```

## 一般的なオプション
- `-P ALL` : すべての CPU コアの統計を表示します。
- `-u` : CPU 使用率の詳細を表示します。
- `-r` : メモリの使用状況を表示します。
- `-h` : ヘルプメッセージを表示します。

## 一般的な例
以下に、mpstat コマンドのいくつかの実用的な例を示します。

### 1. すべての CPU コアの統計を表示
```csh
mpstat -P ALL
```

### 2. CPU 使用率を 5 秒ごとに表示
```csh
mpstat 5
```

### 3. CPU 使用率の詳細を表示
```csh
mpstat -u
```

### 4. メモリ使用状況を表示
```csh
mpstat -r
```

## ヒント
- 定期的に mpstat を実行して、システムのパフォーマンスのトレンドを把握することが重要です。
- 特定のプロセスが高い CPU 使用率を示している場合、そのプロセスを調査することで、システムの最適化が可能です。
- mpstat の出力をログファイルにリダイレクトして、後で分析することもできます。