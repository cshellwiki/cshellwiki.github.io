# [Linux] Bash socat использование: передача данных между потоками

## Обзор
`socat` — это мощный инструмент для передачи данных между двумя потоками, такими как файлы, сокеты, устройства и другие. Он позволяет создавать соединения и перенаправлять данные, что делает его полезным для различных сетевых и системных задач.

## Использование
Основной синтаксис команды `socat` выглядит следующим образом:

```bash
socat [options] [arguments]
```

## Общие параметры
- `-h` или `--help`: показать справку по команде.
- `-V` или `--version`: вывести версию программы.
- `-d`: включить отладочный режим, выводя дополнительную информацию о процессе.
- `-u`: использовать режим "не блокировать", что позволяет передавать данные без ожидания завершения соединения.

## Общие примеры
1. **Создание TCP-соединения**:
   ```bash
   socat TCP-LISTEN:1234,fork EXEC:/path/to/script.sh
   ```
   Этот пример создает TCP-сервер на порту 1234 и запускает указанный скрипт для каждого входящего соединения.

2. **Перенаправление данных между двумя сокетами**:
   ```bash
   socat TCP:example.com:80 UDP:example.com:53
   ```
   Здесь данные, отправляемые на TCP-порт 80, перенаправляются на UDP-порт 53.

3. **Передача данных из файла в сетевой сокет**:
   ```bash
   socat -u FILE:/path/to/file.txt TCP:localhost:8080
   ```
   Этот пример отправляет содержимое файла `file.txt` на локальный сервер, работающий на порту 8080.

4. **Создание виртуального последовательного порта**:
   ```bash
   socat PTY,link=/dev/ttyV0,mode=777 TCP:localhost:1234
   ```
   Здесь создается виртуальный последовательный порт, который будет подключен к TCP-серверу на порту 1234.

## Советы
- Используйте опцию `-d` для отладки, если вы сталкиваетесь с проблемами при установлении соединения.
- Убедитесь, что у вас есть необходимые права доступа для работы с файлами и портами.
- Применяйте `socat` в скриптах для автоматизации задач, связанных с сетью и передачей данных.