# [리눅스] Bash lsof 사용법: 열린 파일과 프로세스 확인

## Overview
`lsof` 명령어는 시스템에서 열린 파일과 이를 사용하는 프로세스를 나열하는 데 사용됩니다. 파일은 일반적으로 디스크 파일, 소켓, 파이프 등 다양한 형태로 존재할 수 있으며, 이 명령어를 통해 어떤 프로세스가 어떤 파일을 사용하고 있는지 확인할 수 있습니다.

## Usage
기본적인 `lsof` 명령어 구문은 다음과 같습니다:

```bash
lsof [options] [arguments]
```

## Common Options
- `-u [user]`: 특정 사용자가 연 파일을 나열합니다.
- `-p [pid]`: 특정 프로세스 ID에 의해 열린 파일을 표시합니다.
- `-i`: 네트워크 연결과 관련된 열린 파일을 나열합니다.
- `-t`: 프로세스 ID만 출력합니다.
- `+D [directory]`: 특정 디렉토리 내의 열린 파일을 나열합니다.

## Common Examples
여기 몇 가지 유용한 `lsof` 명령어 예시가 있습니다:

1. 모든 열린 파일 나열하기:
   ```bash
   lsof
   ```

2. 특정 사용자에 의해 열린 파일 확인하기:
   ```bash
   lsof -u username
   ```

3. 특정 프로세스 ID에 의해 열린 파일 확인하기:
   ```bash
   lsof -p 1234
   ```

4. 네트워크 연결 확인하기:
   ```bash
   lsof -i
   ```

5. 특정 디렉토리 내의 열린 파일 나열하기:
   ```bash
   lsof +D /path/to/directory
   ```

## Tips
- `lsof` 명령어는 루트 권한으로 실행할 경우 더 많은 정보를 제공하므로, 필요시 `sudo`를 사용하세요.
- 열린 파일의 수가 많을 경우 출력 결과를 `grep`과 같은 필터링 도구와 함께 사용하여 원하는 정보를 쉽게 찾을 수 있습니다.
- `lsof`의 출력 결과는 실시간으로 변동하므로, 주기적으로 실행하여 현재 상태를 확인하는 것이 좋습니다.