# [리눅스] Bash set 사용법: 셸 환경 변수를 설정하고 조정하기

## Overview
`set` 명령어는 Bash 셸에서 환경 변수를 설정하고 조정하는 데 사용됩니다. 이 명령어는 셸의 동작 방식을 제어하고, 특정 옵션을 활성화하거나 비활성화하여 스크립트의 실행 환경을 조정할 수 있습니다.

## Usage
`set` 명령어의 기본 구문은 다음과 같습니다:

```bash
set [options] [arguments]
```

## Common Options
- `-e`: 명령어가 실패할 경우 즉시 스크립트를 종료합니다.
- `-u`: 설정되지 않은 변수를 사용할 경우 오류를 발생시킵니다.
- `-x`: 실행되는 명령어를 출력하여 디버깅을 돕습니다.
- `-o`: 특정 셸 옵션을 설정합니다. 예를 들어, `-o noclobber`는 파일 덮어쓰기를 방지합니다.

## Common Examples
다음은 `set` 명령어의 몇 가지 일반적인 예입니다.

1. **명령 실패 시 스크립트 종료하기**
   ```bash
   set -e
   command1
   command2  # command1이 실패하면 이 명령어는 실행되지 않습니다.
   ```

2. **설정되지 않은 변수 사용 시 오류 발생시키기**
   ```bash
   set -u
   echo $UNDEFINED_VAR  # 이 명령어는 오류를 발생시킵니다.
   ```

3. **디버깅을 위한 명령어 출력**
   ```bash
   set -x
   echo "Hello, World!"  # 이 명령어가 실행될 때 출력됩니다.
   ```

4. **파일 덮어쓰기 방지**
   ```bash
   set -o noclobber
   echo "Hello" > file.txt  # file.txt가 존재하지 않을 경우에만 작성됩니다.
   ```

## Tips
- 스크립트의 시작 부분에 `set -e`와 `set -u`를 추가하면 오류를 조기에 발견할 수 있어 유용합니다.
- 디버깅 중일 때는 `set -x`를 사용하여 어떤 명령어가 실행되고 있는지 확인하세요.
- `set` 명령어를 사용하여 스크립트의 동작 방식을 명확히 하고, 예기치 않은 동작을 방지할 수 있습니다.