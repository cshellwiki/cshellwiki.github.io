# [Linux] Bash trap उपयोग: सिग्नल हैंडलिंग के लिए

## Overview
`trap` कमांड Bash स्क्रिप्ट में सिग्नल और अन्य घटनाओं को संभालने के लिए उपयोग किया जाता है। यह विशेष रूप से तब उपयोगी होता है जब आप चाहते हैं कि स्क्रिप्ट किसी विशेष सिग्नल के आने पर कुछ विशेष क्रियाएँ करे, जैसे कि स्क्रिप्ट को समाप्त करना या किसी फ़ाइल को साफ करना।

## Usage
`trap` कमांड का मूल सिंटैक्स इस प्रकार है:

```bash
trap [commands] [signals]
```

यहाँ, `[commands]` वे कमांड हैं जिन्हें आप सिग्नल प्राप्त होने पर चलाना चाहते हैं, और `[signals]` वे सिग्नल हैं जिन्हें आप पकड़ना चाहते हैं।

## Common Options
- `SIGINT`: इंटरप्ट सिग्नल (Ctrl+C)।
- `SIGTERM`: टर्मिनेशन सिग्नल।
- `EXIT`: स्क्रिप्ट के समाप्त होने पर कमांड चलाने के लिए।
- `ERR`: जब कोई कमांड विफल होती है तब कमांड चलाने के लिए।

## Common Examples

### 1. SIGINT सिग्नल को हैंडल करना
```bash
trap 'echo "Script interrupted"; exit' SIGINT
```
इस उदाहरण में, जब उपयोगकर्ता Ctrl+C दबाता है, तो "Script interrupted" संदेश प्रदर्शित होगा और स्क्रिप्ट समाप्त हो जाएगी।

### 2. स्क्रिप्ट समाप्त होने पर फ़ाइल को साफ करना
```bash
trap 'rm -f temp_file.txt' EXIT
```
यह कमांड सुनिश्चित करता है कि जब स्क्रिप्ट समाप्त होती है, तो `temp_file.txt` फ़ाइल को हटा दिया जाएगा।

### 3. ERR सिग्नल के लिए हैंडलर सेट करना
```bash
trap 'echo "An error occurred"; exit 1' ERR
```
इस उदाहरण में, यदि स्क्रिप्ट में कोई कमांड विफल होती है, तो "An error occurred" संदेश प्रदर्शित होगा और स्क्रिप्ट एक एरर कोड के साथ समाप्त होगी।

## Tips
- हमेशा `trap` का उपयोग करते समय यह सुनिश्चित करें कि आप सही सिग्नल को हैंडल कर रहे हैं।
- स्क्रिप्ट में `trap` का उपयोग करने से पहले, यह सुनिश्चित करें कि आप जानें कि कौन से सिग्नल्स आपके स्क्रिप्ट पर प्रभाव डाल सकते हैं।
- `trap` का उपयोग करके आप स्क्रिप्ट के अंत में आवश्यक सफाई कार्य कर सकते हैं, जैसे कि अस्थायी फ़ाइलों को हटाना।